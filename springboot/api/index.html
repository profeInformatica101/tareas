<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Práctica RA4 · Servicios en red (REST + JWT) · API_SEGURITY_EXAMPLE</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { background: #f8fafc; }
    .hero {
      background:
        radial-gradient(1200px 600px at 15% 10%, rgba(13,110,253,.18), transparent 60%),
        radial-gradient(1200px 600px at 85% 10%, rgba(25,135,84,.14), transparent 60%),
        radial-gradient(1200px 600px at 50% 95%, rgba(255,193,7,.18), transparent 60%),
        linear-gradient(180deg, #ffffff, #f8fafc);
      border-bottom: 1px solid rgba(0,0,0,.08);
    }
    .card, .accordion-item {
      background: #ffffff;
      border-color: rgba(0,0,0,.08);
      box-shadow: 0 .25rem 1rem rgba(0,0,0,.04);
    }
    .text-muted { color: rgba(0,0,0,.60) !important; }
    pre {
      background: #f6f8fa;
      border: 1px solid rgba(0,0,0,.10);
      border-radius: .75rem;
      padding: 1rem;
      margin: 0;
      overflow: auto;
    }
    code { color: #0b5ed7; }
    pre code { color: #212529; }

    .badge-soft {
      background: rgba(13,110,253,.10);
      color: #0b5ed7;
      border: 1px solid rgba(13,110,253,.25);
    }
    .badge-soft-success {
      background: rgba(25,135,84,.10);
      color: #146c43;
      border: 1px solid rgba(25,135,84,.25);
    }
    .badge-soft-warning {
      background: rgba(255,193,7,.12);
      color: #856404;
      border: 1px solid rgba(255,193,7,.30);
    }
    .badge-soft-danger {
      background: rgba(220,53,69,.10);
      color: #b02a37;
      border: 1px solid rgba(220,53,69,.25);
    }

    .table { --bs-table-bg: transparent; }
    .table thead th { border-bottom-color: rgba(0,0,0,.12); }
    .table td, .table th { border-top-color: rgba(0,0,0,.08); }

    .nav-pills .nav-link { color: rgba(0,0,0,.70); }
    .nav-pills .nav-link.active { background: #0d6efd; color: #fff; }
    a { color: #0b5ed7; }
    .small-note { font-size: .925rem; }
  </style>
</head>

<body class="text-dark">
  <!-- HERO -->
  <header class="hero py-5">
    <div class="container">
      <div class="row align-items-center g-4">
        <div class="col-lg-8">
          <h1 class="display-6 fw-semibold mb-3">
            Práctica RA4 · Servicios en red (REST + JWT)
          </h1>
          <p class="lead text-muted mb-3">
            Desarrollo y verificación de una API REST protegida con JWT. Incluye creación de colección de endpoints
            (Bruno/Postman), ampliación de funcionalidades y prueba de comunicación simultánea con carga ligera.
          </p>
          <div class="d-flex flex-wrap gap-2">
            <span class="badge badge-soft rounded-pill px-3 py-2">HTTP · REST</span>
            <span class="badge badge-soft-success rounded-pill px-3 py-2">JWT · Roles</span>
            <span class="badge badge-soft-warning rounded-pill px-3 py-2">Disponibilidad</span>
            <span class="badge badge-soft-danger rounded-pill px-3 py-2">Concurrencia</span>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="card rounded-4">
            <div class="card-body">
              <h5 class="card-title mb-2">Proyecto base</h5>
              <p class="text-muted small-note mb-3">
                El código está en GitHub: <strong>API_SEGURITY_EXAMPLE</strong> en la rama
                <strong>actualizacion_version</strong>.
                Cada alumno trabaja sobre <strong>su fork</strong>.
              </p>
              <div class="alert alert-warning border-warning-subtle mb-0">
                <strong>Nota:</strong> Al ser un fork, para traer la rama del profesor debes añadir <code>upstream</code>.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- CONTENT -->
  <main class="py-5">
    <div class="container">

      <!-- QUICK INFO -->
      <div class="row g-4 mb-4">
        <div class="col-lg-4">
          <div class="card rounded-4 h-100">
            <div class="card-body">
              <h5 class="card-title">Resultado de Aprendizaje (RA4)</h5>
              <p class="text-muted mb-0">
                Desarrolla aplicaciones que ofrecen servicios en red, utilizando librerías de clases y aplicando
                criterios de eficiencia y disponibilidad.
              </p>
            </div>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="card rounded-4 h-100">
            <div class="card-body">
              <h5 class="card-title">Entregables (Moodle)</h5>
              <ol class="mb-0">
                <li><strong>ZIP</strong> del proyecto con el endpoint implementado.</li>
                <li><strong>Documentación</strong> (PDF o Markdown) con evidencias de pruebas y mejoras realizadas.</li>
                <li><strong>Archivo de importación</strong> con las llamadas (Postman/Bruno) + opcional script <code>.sh</code>.</li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- NAV TABS -->
      <ul class="nav nav-pills mb-3 gap-2" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active rounded-pill px-4" id="pills-setup-tab" data-bs-toggle="pill" data-bs-target="#pills-setup" type="button" role="tab">
            Parte 1 · Preparación + BD (XAMPP)
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link rounded-pill px-4" id="pills-collection-tab" data-bs-toggle="pill" data-bs-target="#pills-collection" type="button" role="tab">
            Parte 2 · Colección endpoints
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link rounded-pill px-4" id="pills-public-tab" data-bs-toggle="pill" data-bs-target="#pills-public" type="button" role="tab">
            Parte 2B · Endpoint público (crear usuario) + cURL
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link rounded-pill px-4" id="pills-endpoint-tab" data-bs-toggle="pill" data-bs-target="#pills-endpoint" type="button" role="tab">
            Parte 3 · Endpoint usuarios (ADMIN)
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link rounded-pill px-4" id="pills-load-tab" data-bs-toggle="pill" data-bs-target="#pills-load" type="button" role="tab">
            Parte 4 · Concurrencia y disponibilidad
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link rounded-pill px-4" id="pills-eval-tab" data-bs-toggle="pill" data-bs-target="#pills-eval" type="button" role="tab">
            Evaluación
          </button>
        </li>
      </ul>

      <div class="tab-content" id="pills-tabContent">

        <!-- TAB 1: SETUP + DB -->
        <div class="tab-pane fade show active" id="pills-setup" role="tabpanel" aria-labelledby="pills-setup-tab" tabindex="0">
          <div class="row g-4">
            <div class="col-lg-7">
              <div class="card rounded-4">
                <div class="card-body">
                  <h4 class="card-title mb-3">Parte 1 · Preparación del repositorio (fork → upstream → rama)</h4>

                  <div class="alert alert-info border-info-subtle">
                    <strong>Importante:</strong> Un fork no “ve” ramas nuevas del repositorio original. Para traer
                    <code>actualizacion_version</code> debes añadir <code>upstream</code> y hacer <code>fetch</code>.
                  </div>

                  <h6 class="mt-4">1. Clonar tu fork</h6>
                  <pre><code>git clone https://github.com/TU_USUARIO/API_SEGURITY_EXAMPLE.git
cd API_SEGURITY_EXAMPLE</code></pre>

                  <h6 class="mt-4">2. Añadir el repositorio original como upstream</h6>
                  <pre><code>git remote add upstream https://github.com/profeInformatica101/API_SEGURITY_EXAMPLE.git
git remote -v</code></pre>

                  <h6 class="mt-4">3. Traer la rama del profesor y crear rama local</h6>
                  <pre><code>git fetch upstream
git checkout -b actualizacion_version upstream/actualizacion_version</code></pre>

                  <h6 class="mt-4">4. Subir esa rama a tu fork (origin)</h6>
                  <pre><code>git push -u origin actualizacion_version</code></pre>

                  <div class="alert alert-success border-success-subtle mt-4 mb-0">
                    <strong>OK:</strong> Ya trabajas en tu fork sobre la rama correcta.
                  </div>

                  <hr class="my-4">

                  <h4 class="card-title mb-3">Parte 1B · XAMPP + MySQL (crear BD antes de arrancar)</h4>

                  <p class="text-muted small-note mb-3">
                    Para evitar errores de conexión, usarás MySQL con XAMPP y crearás la base de datos antes de
                    ejecutar Spring Boot.
                  </p>

                  <h6>1) Arrancar MySQL en XAMPP</h6>
                  <ul class="text-muted small-note">
                    <li>Instala XAMPP.</li>
                    <li>Abre el panel y arranca <strong>MySQL</strong>.</li>
                    <li>Opcional: abre phpMyAdmin (si lo tienes disponible).</li>
                  </ul>

                  <h6 class="mt-3">2) Crear base de datos (ejemplo: <code>tubasededatos</code>)</h6>
                  <pre><code>CREATE DATABASE IF NOT EXISTS tubasededatos
  CHARACTER SET utf8mb4
  COLLATE utf8mb4_unicode_ci;</code></pre>

                  <h6 class="mt-4">3) Configuración de base de datos en Spring Boot (application.properties)</h6>
                  <p class="text-muted small-note mb-2">
                    Crea/edita el archivo <code>src/main/resources/application-demo.properties</code> (o
                    <code>application.properties</code> si no trabajas por profiles) con esta configuración:
                  </p>

                  <pre><code># ==========================================
# DATABASE CONFIGURATION (XAMPP - MySQL)
# ==========================================
spring.datasource.url=jdbc:mysql://localhost:3306/tubasededatos?useSSL=false&amp;serverTimezone=UTC&amp;allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Recomendación: NO pongas dialecto manual si no es necesario
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect</code></pre>

                  <div class="alert alert-warning border-warning-subtle mt-3">
                    <strong>Nota:</strong> si en tu proyecto está activado el profile <code>demo</code>, asegúrate de que
                    el fichero de propiedades que estés editando sea el correcto (<code>application-demo.properties</code>).
                  </div>

                  <h6 class="mt-4">4) Arrancar la API</h6>
                  <pre><code>mvn spring-boot:run</code></pre>

                </div>
              </div>
            </div>

            <div class="col-lg-5">
              <div class="card rounded-4 h-100">
                <div class="card-body">
                  <h5 class="card-title mb-3">Comprobación rápida</h5>
                  <ul class="mb-3">
                    <li>Java 17 + Maven</li>
                    <li>API en <code>http://localhost:9091</code></li>
                    <li>MySQL (XAMPP) en <code>localhost:3306</code></li>
                  </ul>

                  <div class="alert alert-info border-info-subtle">
                    Si MySQL no arranca, suele ser por el puerto <code>3306</code> ocupado.
                    Cierra otros MySQL/MariaDB o cambia el puerto en XAMPP (y en la URL).
                  </div>

                  <div class="alert alert-warning border-warning-subtle mb-0">
                    Swagger <strong>no es requisito</strong> en esta práctica (DAM).
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- TAB 2: COLLECTION -->
        <div class="tab-pane fade" id="pills-collection" role="tabpanel" aria-labelledby="pills-collection-tab" tabindex="0">
          <div class="card rounded-4">
            <div class="card-body">
              <h4 class="card-title mb-3">Parte 2 · Actividad 1: Colección completa de endpoints (Bruno o Postman)</h4>

              <p class="text-muted">
                Crea una colección con las llamadas a la API. Debe incluir autenticación (obtener JWT) y acceso a recursos.
                Usa variables para reutilizar el token.
              </p>

              <div class="row g-4">
                <div class="col-lg-6">
                  <div class="card rounded-4 h-100">
                    <div class="card-body">
                      <h5 class="card-title">Checklist mínimo de endpoints</h5>
                      <div class="table-responsive">
                        <table class="table table-sm align-middle mb-0">
                          <thead>
                            <tr>
                              <th>Método</th>
                              <th>Ruta</th>
                              <th>Rol</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td><span class="badge text-bg-primary">POST</span></td>
                              <td><code>/api/v1/auth/signin</code></td>
                              <td>Público</td>
                            </tr>
                            <tr>
                              <td><span class="badge text-bg-primary">POST</span></td>
                              <td><code>/api/v1/auth/signup</code> (si existe)</td>
                              <td>Público</td>
                            </tr>
                            <tr>
                              <td><span class="badge text-bg-success">GET</span></td>
                              <td><code>/api/v1/libros</code></td>
                              <td>USER/ADMIN</td>
                            </tr>
                            <tr>
                              <td><span class="badge text-bg-warning">POST</span></td>
                              <td><code>/api/v1/libros</code></td>
                              <td>ADMIN</td>
                            </tr>
                            <tr>
                              <td><span class="badge text-bg-success">GET</span></td>
                              <td><code>/api/v1/users</code></td>
                              <td>ADMIN (Parte 3)</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>

                      <div class="alert alert-secondary border-secondary-subtle mt-3 mb-0">
                        <strong>Entrega:</strong> exporta la colección y adjúntala en Moodle.
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-lg-6">
                  <div class="card rounded-4 h-100">
                    <div class="card-body">
                      <h5 class="card-title">Token JWT en Postman</h5>
                      <ol class="text-muted small-note">
                        <li>Crea variable de entorno: <code>token</code></li>
                        <li>En la petición <code>signin</code>, añade este script en <strong>Tests</strong></li>
                      </ol>

                      <pre><code>// Postman Tests
const json = pm.response.json();
pm.environment.set("token", json.token || json.accessToken || json.jwt);</code></pre>

                      <p class="text-muted mt-3 small-note mb-2">
                        En llamadas protegidas añade el header:
                      </p>
                      <pre><code>Authorization: Bearer {{token}}</code></pre>

                      <div class="alert alert-info border-info-subtle mt-3 mb-0">
                        En Bruno, aplica lo mismo: variable <code>token</code> + header Authorization.
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <!-- TAB 2B: PUBLIC CREATE USER + CURL -->
        <div class="tab-pane fade" id="pills-public" role="tabpanel" aria-labelledby="pills-public-tab" tabindex="0">
          <div class="card rounded-4">
            <div class="card-body">
              <h4 class="card-title mb-3">Parte 2B · Endpoint público: crear usuario + prueba con cURL</h4>

              <div class="alert alert-info border-info-subtle">
                <strong>Objetivo:</strong> demostrar un endpoint público (sin token) para crear un usuario (signup/registro).
                <br>
                <strong>Si tu API no tiene signup:</strong> usa el endpoint público que te indique el profesor (o deja evidencia con <code>signin</code>).
              </div>

              <div class="row g-4">
                <div class="col-lg-6">
                  <div class="card rounded-4 h-100">
                    <div class="card-body">
                      <h5 class="card-title">Ejemplo (POST) crear usuario</h5>
                      <p class="text-muted small-note mb-2">
                        Usaremos <code>/api/v1/auth/signup</code> como ejemplo (ajusta la ruta si en tu proyecto se llama distinto).
                      </p>

                      <pre><code>curl -i -X POST "http://localhost:9091/api/v1/auth/signup" \
  -H "Content-Type: application/json" \
  -d '{
    "firstName": "Alumno",
    "lastName": "DAM",
    "email": "alumno.dam01@example.com",
    "password": "demo123"
  }'</code></pre>

                      <div class="alert alert-warning border-warning-subtle mt-3 mb-0">
                        Si devuelve 404, es que esa ruta no existe: revisa el controlador del proyecto y corrige la URL en la colección.
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-lg-6">
                  <div class="card rounded-4 h-100">
                    <div class="card-body">
                      <h5 class="card-title">Login (POST) y extracción de token</h5>
                      <pre><code># 1) Login
curl -sS -X POST "http://localhost:9091/api/v1/auth/signin" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "bob.smith@example.com",
    "password": "password456"
  }'</code></pre>

                      <p class="text-muted small-note mt-3 mb-2">
                        Ejemplo con <code>jq</code> para extraer el token:
                      </p>
                      <pre><code>TOKEN=$(curl -sS -X POST "http://localhost:9091/api/v1/auth/signin" \
  -H "Content-Type: application/json" \
  -d '{"email":"bob.smith@example.com","password":"password456"}' \
  | jq -r '.token // .accessToken // .jwt')

echo "$TOKEN"</code></pre>

                      <div class="alert alert-success border-success-subtle mt-3 mb-0">
                        <strong>Entrega:</strong> añade estas llamadas (signup + signin) en tu colección Postman/Bruno y adjunta evidencia.
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <hr class="my-4">

              <h5>Acceso a recurso protegido con token (ejemplo)</h5>
              <pre><code>curl -i "http://localhost:9091/api/v1/libros" \
  -H "Authorization: Bearer $TOKEN"</code></pre>

            </div>
          </div>
        </div>

        <!-- TAB 3: ENDPOINT ADMIN USERS -->
        <div class="tab-pane fade" id="pills-endpoint" role="tabpanel" aria-labelledby="pills-endpoint-tab" tabindex="0">
          <div class="card rounded-4">
            <div class="card-body">
              <h4 class="card-title mb-3">Parte 3 · Actividad 2: Nuevo endpoint (Listado de usuarios)</h4>

              <div class="alert alert-warning border-warning-subtle">
                <strong>Enfoque DAM:</strong> mantenerlo simple. Evita exponer contraseñas; usa DTO.
              </div>

              <div class="row g-4">
                <div class="col-lg-6">
                  <div class="card rounded-4 h-100">
                    <div class="card-body">
                      <h5 class="card-title">Requisitos del endpoint</h5>
                      <ul class="mb-0">
                        <li><strong>Ruta:</strong> <code>GET /api/v1/users</code></li>
                        <li><strong>Acceso:</strong> solo <code>ROLE_ADMIN</code></li>
                        <li><strong>Respuesta:</strong> lista de usuarios (id, email, firstName, lastName, roles si aplica)</li>
                      </ul>

                      <h6 class="mt-4">Ejemplo de respuesta</h6>
                      <pre><code>[
  {"id": 1, "email": "alice.johnson@example.com", "firstName": "Alice", "lastName": "Johnson"},
  {"id": 2, "email": "bob.smith@example.com",   "firstName": "Bob",   "lastName": "Smith"}
]</code></pre>
                    </div>
                  </div>
                </div>

                <div class="col-lg-6">
                  <div class="card rounded-4 h-100">
                    <div class="card-body">
                      <h5 class="card-title">Pruebas obligatorias</h5>
                      <div class="d-flex flex-column gap-2">
                        <div class="alert alert-success border-success-subtle mb-0">
                          <strong>ADMIN</strong> → 200 OK (recibe lista)
                        </div>
                        <div class="alert alert-danger border-danger-subtle mb-0">
                          <strong>USER</strong> → 403 Forbidden
                        </div>
                      </div>

                      <h6 class="mt-4">cURL de prueba (ADMIN)</h6>
                      <pre><code>curl -i "http://localhost:9091/api/v1/users" \
  -H "Authorization: Bearer $TOKEN"</code></pre>
                    </div>
                  </div>
                </div>
              </div>

              <div class="alert alert-secondary border-secondary-subtle mt-4 mb-0">
                <strong>Entrega:</strong> el ZIP debe incluir el endpoint funcionando, y la colección actualizada con
                <code>/api/v1/users</code>.
              </div>
            </div>
          </div>
        </div>

        <!-- TAB 4: LOAD / CONCURRENCY -->
        <div class="tab-pane fade" id="pills-load" role="tabpanel" aria-labelledby="pills-load-tab" tabindex="0">
          <div class="card rounded-4">
            <div class="card-body">
              <h4 class="card-title mb-3">Parte 4 · Comunicación simultánea (concurrencia) + disponibilidad</h4>

              <p class="text-muted">
                Demuestra que el servicio responde con varias peticiones. Puedes usar Runner (Postman),
                repetición en Bruno, o un script bash que simule varios “clientes”.
              </p>

              <div class="accordion" id="accordionLoad">
                <div class="accordion-item rounded-4 overflow-hidden">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePostman">
                      Opción A · Postman Runner (carga ligera)
                    </button>
                  </h2>
                  <div id="collapsePostman" class="accordion-collapse collapse" data-bs-parent="#accordionLoad">
                    <div class="accordion-body">
                      <ol class="text-muted small-note">
                        <li>Selecciona la colección.</li>
                        <li>Runner con <strong>50–100 iteraciones</strong>.</li>
                        <li>Delay 100–200ms (si hace falta).</li>
                        <li>Guarda evidencia y adjúntala.</li>
                      </ol>
                    </div>
                  </div>
                </div>

                <div class="accordion-item rounded-4 overflow-hidden mt-3">
                  <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBash">
                      Opción B · Script Linux (curl + bucle + concurrencia) ✅
                    </button>
                  </h2>
                  <div id="collapseBash" class="accordion-collapse collapse show" data-bs-parent="#accordionLoad">
                    <div class="accordion-body">
                      <h6 class="mt-2">Crear <code>stress.sh</code></h6>
                      <pre><code>#!/usr/bin/env bash
set -euo pipefail

BASE_URL="http://localhost:9091"
SIGNIN="$BASE_URL/api/v1/auth/signin"
LIBROS="$BASE_URL/api/v1/libros"

EMAIL="${1:-bob.smith@example.com}"
PASS="${2:-password456}"

REQS_PER_SEC="${REQS_PER_SEC:-5}"
DURATION="${DURATION:-10}"
CONCURRENCY="${CONCURRENCY:-3}"

command -v jq >/dev/null || { echo "Instala jq (sudo apt install jq)"; exit 1; }

TOKEN=$(curl -sS -X POST "$SIGNIN" \
  -H "Content-Type: application/json" \
  -d "{\"email\":\"$EMAIL\",\"password\":\"$PASS\"}" | jq -r '.token // .accessToken // .jwt')

[[ -n "$TOKEN" && "$TOKEN" != "null" ]] || { echo "Token vacío"; exit 1; }

end=$((SECONDS + DURATION))

worker() {
  local id="$1"
  while (( SECONDS < end )); do
    for ((i=0; i<REQS_PER_SEC; i++)); do
      curl -s -o /dev/null -w "worker=$id status=%{http_code} time=%{time_total}\n" \
        -H "Authorization: Bearer $TOKEN" \
        "$LIBROS" &
    done
    wait
    sleep 1
  done
}

for ((w=1; w<=CONCURRENCY; w++)); do
  worker "$w" &
done
wait</code></pre>

                      <h6 class="mt-3">Ejecutar</h6>
                      <pre><code>chmod +x stress.sh
REQS_PER_SEC=5 DURATION=10 CONCURRENCY=3 ./stress.sh</code></pre>

                      <div class="alert alert-success border-success-subtle mt-3 mb-0">
                        Adjunta el log o captura: demuestra concurrencia y disponibilidad.
                      </div>
                    </div>
                  </div>
                </div>

              </div>

              <div class="alert alert-warning border-warning-subtle mt-4 mb-0">
                Mantén la carga ligera para no saturar el equipo.
              </div>
            </div>
          </div>
        </div>

        <!-- TAB 5: EVAL -->
        <div class="tab-pane fade" id="pills-eval" role="tabpanel" aria-labelledby="pills-eval-tab" tabindex="0">
          <div class="row g-4">
            <div class="col-lg-7">
              <div class="card rounded-4">
                <div class="card-body">
                  <h4 class="card-title mb-3">Criterios de evaluación (RA4)</h4>
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item bg-transparent border-secondary-subtle">
                      <strong>Protocolos estándar</strong> (HTTP/REST) y ventajas.
                      <span class="badge text-bg-secondary float-end">20%</span>
                    </li>
                    <li class="list-group-item bg-transparent border-secondary-subtle">
                      <strong>Colección completa</strong> (Bruno/Postman) con token y endpoints.
                      <span class="badge text-bg-secondary float-end">20%</span>
                    </li>
                    <li class="list-group-item bg-transparent border-secondary-subtle">
                      <strong>Endpoint /api/v1/users</strong> (ADMIN) + seguridad.
                      <span class="badge text-bg-secondary float-end">30%</span>
                    </li>
                    <li class="list-group-item bg-transparent border-secondary-subtle">
                      <strong>Simultaneidad + disponibilidad</strong> con evidencias.
                      <span class="badge text-bg-secondary float-end">20%</span>
                    </li>
                    <li class="list-group-item bg-transparent border-secondary-subtle">
                      <strong>Documentación</strong> + depuración.
                      <span class="badge text-bg-secondary float-end">10%</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="col-lg-5">
              <div class="card rounded-4 h-100">
                <div class="card-body">
                  <h5 class="card-title mb-3">Checklist final</h5>
                  <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="c1">
                    <label class="form-check-label" for="c1">
                      Estoy en <code>actualizacion_version</code> en mi fork.
                    </label>
                  </div>
                  <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="c2">
                    <label class="form-check-label" for="c2">
                      Colección exportada (Postman/Bruno) con token.
                    </label>
                  </div>
                  <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="c3">
                    <label class="form-check-label" for="c3">
                      <code>/api/v1/users</code> funciona con ADMIN (200) y USER (403).
                    </label>
                  </div>
                  <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="c4">
                    <label class="form-check-label" for="c4">
                      He probado concurrencia (Runner/Bruno/script) y tengo evidencias.
                    </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="c5">
                    <label class="form-check-label" for="c5">
                      Entrego ZIP + documentación + archivo de importación.
                    </label>
                  </div>

                  <div class="alert alert-secondary border-secondary-subtle mb-0">
                    En la documentación incluye capturas/logs con resultados (200/403 y tiempos).
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div><!-- /tab eval -->

      </div><!-- /tab content -->

      <div class="mt-5">
        <div class="card rounded-4">
          <div class="card-body">
            <h5 class="card-title">Formato de entrega (Moodle)</h5>
            <ul class="mb-0">
              <li><strong>ZIP del proyecto</strong> (endpoint desarrollado).</li>
              <li><strong>Documentación</strong> (PDF o Markdown) con mejoras y evidencias.</li>
              <li><strong>Archivo de importación</strong> Postman/Bruno + opcional <code>stress.sh</code>.</li>
            </ul>
          </div>
        </div>
      </div>

    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
