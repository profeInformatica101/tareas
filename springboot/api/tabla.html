<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tabla de Endpoints - API Security</title>

  <!-- Bootstrap 5 (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { background: #f6f8fb; }
    .card { border: 1px solid rgba(15, 23, 42, .10); border-radius: 1rem; }
    .card-header { background: #ffffff; border-bottom: 1px solid rgba(15, 23, 42, .10); }
    .table thead th { background: #f8fafc; border-bottom: 1px solid rgba(15, 23, 42, .12); }
    .table tbody td { border-top: 1px solid rgba(15, 23, 42, .08); vertical-align: middle; }
    .muted-2 { color: #64748b; }
    code { color: #0f172a; background: rgba(2, 132, 199, .10); padding: .12rem .35rem; border-radius: .35rem; }

    .badge-pill { border-radius: 999px; }
    .badge-method { font-weight: 600; letter-spacing: .02em; }

    .method-get { background: rgba(59,130,246,.14); color: #1d4ed8; border: 1px solid rgba(59,130,246,.30); }
    .method-post { background: rgba(34,197,94,.14); color: #166534; border: 1px solid rgba(34,197,94,.30); }
    .method-put { background: rgba(245,158,11,.14); color: #92400e; border: 1px solid rgba(245,158,11,.30); }
    .method-delete { background: rgba(239,68,68,.14); color: #991b1b; border: 1px solid rgba(239,68,68,.30); }

    .auth-yes { background: rgba(99,102,241,.14); color: #3730a3; border: 1px solid rgba(99,102,241,.30); }
    .auth-no { background: rgba(148,163,184,.20); color: #334155; border: 1px solid rgba(148,163,184,.35); }

    .role-user { background: rgba(34,197,94,.12); color: #166534; border: 1px solid rgba(34,197,94,.26); }
    .role-admin { background: rgba(239,68,68,.12); color: #991b1b; border: 1px solid rgba(239,68,68,.26); }
    .role-any { background: rgba(245,158,11,.12); color: #92400e; border: 1px solid rgba(245,158,11,.26); }
    .role-public { background: rgba(148,163,184,.18); color: #334155; border: 1px solid rgba(148,163,184,.32); }

    .table-hover tbody tr:hover { background: rgba(15, 23, 42, .02); }
  </style>
</head>

<body class="text-dark">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-12 col-xl-11">
        <div class="d-flex flex-column flex-md-row align-items-md-end justify-content-between mb-4">
          <div>
            <h1 class="h3 mb-1">Endpoints de la API</h1>
            <p class="mb-0 muted-2">
              Base URL: <code>http://localhost:9091</code>
            </p>
          </div>
          <div class="mt-3 mt-md-0">
            <span class="badge badge-pill auth-yes me-2">Auth: JWT</span>
            <span class="badge badge-pill auth-no">Auth: Público</span>
          </div>
        </div>

        <div class="card shadow-sm">
          <div class="card-header py-3">
            <div class="d-flex flex-column flex-md-row gap-2 justify-content-between align-items-md-center">
              <div class="fw-semibold">Tabla de endpoints (orden típico de uso)</div>
              <div class="muted-2 small">
                Header JWT: <code>Authorization: Bearer {{TOKEN}}</code>
              </div>
            </div>
          </div>

          <div class="card-body p-0">
            <div class="table-responsive">
              <table class="table table-hover table-sm mb-0 align-middle">
                <thead>
                  <tr>
                    <th class="ps-3" style="width: 92px;">Orden</th>
                    <th>Recurso</th>
                    <th style="width: 110px;">Método</th>
                    <th>Ruta</th>
                    <th style="width: 120px;">Auth</th>
                    <th style="width: 190px;">Rol requerido</th>
                    <th>Body (JSON) mínimo</th>
                    <th class="pe-3">Devuelve</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="ps-3 fw-semibold">1</td>
                    <td>Auth</td>
                    <td><span class="badge badge-method method-post">POST</span></td>
                    <td><code>/api/v1/auth/signup</code></td>
                    <td><span class="badge badge-pill auth-no">No</span></td>
                    <td><span class="badge badge-pill role-public">Público</span></td>
                    <td><code>{"firstName":"...","lastName":"...","email":"...","password":"..."}</code></td>
                    <td class="pe-3"><span class="muted-2">JwtAuthenticationResponse (token)</span></td>
                  </tr>

                  <tr>
                    <td class="ps-3 fw-semibold">2</td>
                    <td>Auth</td>
                    <td><span class="badge badge-method method-post">POST</span></td>
                    <td><code>/api/v1/auth/signin</code></td>
                    <td><span class="badge badge-pill auth-no">No</span></td>
                    <td><span class="badge badge-pill role-public">Público</span></td>
                    <td><code>{"email":"...","password":"..."}</code></td>
                    <td class="pe-3"><span class="muted-2">JwtAuthenticationResponse (token)</span></td>
                  </tr>

                  <tr>
                    <td class="ps-3 fw-semibold">3</td>
                    <td>Recursos</td>
                    <td><span class="badge badge-method method-get">GET</span></td>
                    <td><code>/api/v1/resources</code></td>
                    <td><span class="badge badge-pill auth-yes">Sí</span></td>
                    <td><span class="badge badge-pill role-any">Autenticado</span></td>
                    <td class="muted-2">—</td>
                    <td class="pe-3"><span class="muted-2">"Here is your resource"</span></td>
                  </tr>

                  <tr>
                    <td class="ps-3 fw-semibold">4</td>
                    <td>Libros</td>
                    <td><span class="badge badge-method method-get">GET</span></td>
                    <td><code>/api/v1/libros?page=0&amp;size=10</code></td>
                    <td><span class="badge badge-pill auth-yes">Sí</span></td>
                    <td>
                      <span class="badge badge-pill role-user me-1">ROLE_USER</span>
                      <span class="badge badge-pill role-admin">ROLE_ADMIN</span>
                    </td>
                    <td class="muted-2">—</td>
                    <td class="pe-3"><span class="muted-2">Page&lt;Libro&gt;</span></td>
                  </tr>

                  <tr>
                    <td class="ps-3 fw-semibold">5</td>
                    <td>Libros</td>
                    <td><span class="badge badge-method method-get">GET</span></td>
                    <td><code>/api/v1/libros/{id}</code></td>
                    <td><span class="badge badge-pill auth-yes">Sí</span></td>
                    <td>
                      <span class="badge badge-pill role-user me-1">ROLE_USER</span>
                      <span class="badge badge-pill role-admin">ROLE_ADMIN</span>
                    </td>
                    <td class="muted-2">—</td>
                    <td class="pe-3"><span class="muted-2">Libro</span></td>
                  </tr>

                  <tr>
                    <td class="ps-3 fw-semibold">6</td>
                    <td>Libros</td>
                    <td><span class="badge badge-method method-post">POST</span></td>
                    <td><code>/api/v1/libros</code></td>
                    <td><span class="badge badge-pill auth-yes">Sí</span></td>
                    <td><span class="badge badge-pill role-admin">ROLE_ADMIN</span></td>
                    <td><code>{"titulo":"...","autor":"...","isbn":"..."}</code></td>
                    <td class="pe-3"><span class="muted-2">Libro creado</span></td>
                  </tr>

                  <tr>
                    <td class="ps-3 fw-semibold">7</td>
                    <td>Libros</td>
                    <td><span class="badge badge-method method-put">PUT</span></td>
                    <td><code>/api/v1/libros/{id}</code></td>
                    <td><span class="badge badge-pill auth-yes">Sí</span></td>
                    <td><span class="badge badge-pill role-admin">ROLE_ADMIN</span></td>
                    <td><code>{"titulo":"...","autor":"...","isbn":"..."}</code></td>
                    <td class="pe-3"><span class="muted-2">Libro actualizado</span></td>
                  </tr>

                  <tr>
                    <td class="ps-3 fw-semibold">8</td>
                    <td>Libros</td>
                    <td><span class="badge badge-method method-delete">DELETE</span></td>
                    <td><code>/api/v1/libros/{id}</code></td>
                    <td><span class="badge badge-pill auth-yes">Sí</span></td>
                    <td><span class="badge badge-pill role-admin">ROLE_ADMIN</span></td>
                    <td class="muted-2">—</td>
                    <td class="pe-3"><span class="muted-2">200/204 (void)</span></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="card-footer small">
            <div class="row g-2">
              <div class="col-12 col-lg-6">
                <div class="fw-semibold mb-1">Variables recomendadas (Environment)</div>
                <ul class="mb-0 muted-2">
                  <li><code>BASE_URL</code> = <code>http://localhost:9091</code></li>
                  <li><code>TOKEN</code> = (rellenar tras signin/signup)</li>
                  <li><code>USER_EMAIL</code> / <code>USER_PASSWORD</code> = credenciales USER</li>
                  <li><code>ADMIN_EMAIL</code> / <code>ADMIN_PASSWORD</code> = credenciales ADMIN</li>
                </ul>
              </div>
              <div class="col-12 col-lg-6">
                <div class="fw-semibold mb-1">Variables útiles (para pruebas)</div>
                <ul class="mb-0 muted-2">
                  <li><code>BOOK_ID</code> = id de un libro existente</li>
                  <li><code>PAGE</code> = <code>0</code></li>
                  <li><code>SIZE</code> = <code>10</code></li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-4 muted-2 small">
          Tip: en Postman/Bruno, define el header global <code>Authorization</code> con <code>Bearer {{TOKEN}}</code> y desactívalo solo en <code>/api/v1/auth/*</code>.
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
